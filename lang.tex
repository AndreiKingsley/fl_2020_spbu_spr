\documentclass[12pt]{article}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\usepackage[utf8x]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{cmap}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{url}
\usepackage{pifont}
\usepackage{tikz}
\usepackage{verbatim}
\usepackage[most]{tcolorbox}

\usetikzlibrary{shapes,arrows}
\usetikzlibrary{positioning,automata}
\tikzset{every state/.style={minimum size=0.2cm},
initial text={}
}

\definecolor{block-gray}{gray}{0.90} 
\newtcolorbox{myquote}{colback=block-gray,grow to right by=-10mm,grow to left by=-10mm,
boxrule=0pt,boxsep=0pt,breakable} 

\newenvironment{myauto}[1][3]
{
  \begin{center}
    \begin{tikzpicture}[> = stealth,node distance=#1cm, on grid, very thick]
}
{
    \end{tikzpicture}
  \end{center}
}


\begin{document}
\begin{center} {\LARGE Язык древних русов} \end{center}

\bigskip


Для счёта древних русов используется служебный сивол $\$$, а сами цифры выглядат как
\begin{enumerate}
\item[0.] $\$NOL\$$
\item $\$CELKOVIY\$$
\item $\$POLUSHKA\$$
\item $\$CHETVERTUSHKA\$$
\item $\$OSMUSHKA\$$
\item $\$PUDOVICHOK\$$
\item $\$MEDYACHOK\$$
\item $\$SEREBRYACHOK\$$
\item $\$ZOLOTNICHOK\$$
\item $\$DEVYATICHOK\$$
\end{enumerate}

Числа из них порожадются стандартно, обозначим число за $number$.\\



Идентификаторы -- слова из $['r', 'u', 's', 'R', 'U', 'S']$, причём сначала идут маленькие, затем заглавные символы(возможно, строка пустая):

\begin{myquote}
$S_0 \to @S@$\\
$S \to ''|'r'|'u'|'s'|'R'|'U'|'S'$\\
$S \to (|'r'|'u'|'s')S$\\
$S \to S('R'|'U'|'S')$
\end{myquote}

Примеры : $"@uuuURR@"$, $@SRU@$, $@rusRUS@$.
Обозначим слово из языка этой грамматики за $ident$.

Каждый идентификатор соотвуетсвует одной глобальной переменной. Изначально каждая переменная равна $0$.


Введём понятие выражений -- $expr$.\\

Операторы -- стандартные , со стандартными ассоциативностями/приоритетами. \\
Логические работают как обычно(ноль -- ноль, не ноль -- единица)

Выражения $expr$ строятся следующим образом :
\begin{myquote}
$S_0 \to :S:$\\
$S \to number | ident| binop\; S\; S| unop\; S $
\end{myquote}
Пример: $:\$PUDOVICHOK\$ * (@ruu@ + @S@ * \$NOL\$)||(@ruu@ \&\& \$NOL\$):$\\


Блоки кода должны начинать на служебный сивол $\{$ и заканчиваться на $\}$. Внутренность же должна начинаться на ключевое слово и быть в должной конструкции, задаваемой оным. Обозначим за $blok$.

Ключевые слова -- обособляются служебным сиволов $\#$, то есть блок выглядит следующим образом $\{\#KEYWORD\#body\}$.
\begin{itemize}
\item $\#PUSTO\#$ -- пустой блок, кроме ключего слова ничего не должно быть.
\item $\#ROBIT\#$. Синтаксис:\\
$\#ROBIT\#blok1\;blok2\;blok3..$ -- выполняет последовательно блоки.
\item $\#ZVYAZATI\#$. Синтаксис:\\
$\#ZVYAZATI\#\;ident\;num\_expr$ -- кладёт в переменную значение данного выражения.
\item $\#KOLI\#$, $\#TADI\#$, $\#PO-INOMU\#$. Синтаксис :\\
 $\#KOLI\#\;expr\;\#TADI\#\;blok\;\#PO-INOMU\#\; blok$ -- выполняет один из двух блоков, в зависимости от значения $log\_expr$.
\item $\#PAKUL\#$. Синтаксис:\\
$\#PAKUL\#\;expr\;blok$ -- выполняет блока, пока верно условие $expr$.
\item $\#CHITATSBERESTI\#$. Синтаксис:\\
$\#CHITATSBERESTI\# ident$ -- считывает значение переменной.
\item $\#NAPISATNABERESTU\#$. Синтаксис:\\
$\#NAPISATNABERESTU\# expr$ -- выводит на бересту значение выражения.
\end{itemize}

Для корректности программы достаточно одно условие -- она начинается и заканичвается в одном блоке $\#ROBIT\#$

Примеры смотри в тестах парсера.

Пробелы, табы, переносы строки не поддерживаются(
\end{document}